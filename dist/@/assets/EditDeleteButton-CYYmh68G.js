import{l as T,r as S,S as $,h as O,f as F,j as a,d as g,L as R}from"./index-CMwVzeIB.js";import{a as L,i as H,F as B}from"./Layout-BjD68e0c.js";import{s as I}from"./spinner-CkndCogW.js";import{A as K}from"./AdminServices-D9Q4xkaE.js";import{P as N,b as D,C as b,a as V,A as h}from"./ProductServices-BvNfP5wu.js";import{L as E}from"./LanguageServices-BvaG6nfs.js";import{u as Z}from"./DrawerButton-ORFdy47n.js";import{C as P}from"./CurrencyServices-DcYd_dUH.js";import{n as l,a as d}from"./toast-Bi8odYBa.js";import{B as j}from"./BrandServices-Jo5NrGFc.js";import{T as w}from"./Tooltip-CK2c9wXD.js";const _=({id:o,ids:n,setIsCheck:u,category:f,title:m,useParamId:y})=>{const{isModalOpen:p,closeModal:t,setIsUpdate:r}=S.useContext($),{setServiceId:i}=Z(),c=O(),[A,s]=S.useState(!1),C=async()=>{var v,M;try{if(s(!0),c.pathname==="/products")if(n){const e=await N.deleteManyProducts({ids:n});r(!0),l(e.message),u([]),i(),t(),s(!1)}else{const e=await N.deleteProduct(o);r(!0),l(e.message),i(),t(),s(!1)}if(c.pathname==="/coupons")if(n){const e=await D.deleteManyCoupons({ids:n});r(!0),l(e.message),u([]),i(),t(),s(!1)}else{const e=await D.deleteCoupon(o);r(!0),l(e.message),i(),t(),s(!1)}if(c.pathname==="/sub-categories"||f)if(n){const e=await b.deleteManyCategory({ids:n});r(!0),l(e.message),u([]),i(),t(),s(!1)}else{if(o===void 0||!o)return d("Please select a category first!"),s(!1),t();const e=await b.deleteCategory(o);r(!0),l(e.message),t(),i(),s(!1)}if(c.pathname==="/categories"||f)if(n){const e=await b.deleteManyCategory({ids:n});r(!0),l(e.message),u([]),i(),t(),s(!1)}else{if(o===void 0||!o)return d("Please select a category first!"),s(!1),t();const e=await b.deleteCategory(o);r(!0),l(e.message),t(),i(),s(!1)}else if(c.pathname===`/categories/${y}`||f){if(o===void 0||!o)return d("Please select a category first!"),s(!1),t();const e=await b.deleteCategory(o);r(!0),l(e.message),t(),i(),s(!1)}if(c.pathname==="/brand")if(console.log("brand"),n){const e=await j.deleteManyBrand({ids:n});r(!0),l(e.message),u([]),setBrandId(),t(),s(!1)}else{if(console.log("id",o),o===void 0||!o)return d("Please select a brand first!"),s(!1),t();const e=await j.deleteBrand(o);r(!0),l(e.message),s(!1),t()}else if(c.pathname===`/brand/${y}`||f){if(o===void 0||!o)return d("Please select a brand first!"),s(!1),t();const e=await j.deleteBrand(o);r(!0),l(e.message),t(),setBrandId(),s(!1)}if(c.pathname==="/customers"){const e=await V.deleteCustomer(o);r(!0),l(e.message),i(),t(),s(!1)}if(c.pathname==="/attributes")if(n){const e=await h.deleteManyAttribute({ids:n});r(!0),l(e.message),u([]),i(),t(),s(!1)}else{const e=await h.deleteAttribute(o);r(!0),l(e.message),i(),t(),s(!1)}if(c.pathname===`/attributes/${c.pathname.split("/")[2]}`)if(n){const e=await h.deleteManyChildAttribute({id:c.pathname.split("/")[2],ids:n});r(!0),l(e.message),i(),u([]),t(),s(!1)}else{const e=await h.deleteChildAttribute({id:o,ids:c.pathname.split("/")[2]});r(!0),l(e.message),i(),t(),s(!1)}if(c.pathname==="/our-staff"){const e=await K.deleteStaff(o);r(!0),l(e.message),i(),t(),s(!1)}if(c.pathname==="/languages")if(n){const e=await E.deleteManyLanguage({ids:n});r(!0),l(e.message),u([]),t(),s(!1)}else{const e=await E.deleteLanguage(o);r(!0),l(e.message),i(),t(),s(!1)}if(c.pathname==="/currencies")if(n){const e=await P.deleteManyCurrency({ids:n});r(!0),l(e.message),u([]),t(),s(!1)}else{const e=await P.deleteCurrency(o);r(!0),l(e.message),i(),t(),s(!1)}}catch(e){console.log(e==null?void 0:e.message),console.log("Stack trace:",e==null?void 0:e.stack),d(e?(M=(v=e==null?void 0:e.response)==null?void 0:v.data)==null?void 0:M.message:e==null?void 0:e.message),i(),u([]),t(),s(!1)}},{t:x}=F();return a.jsx(a.Fragment,{children:a.jsxs(g.Modal,{isOpen:p,onClose:t,children:[a.jsxs(g.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[a.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:a.jsx(L,{})}),a.jsxs("h2",{className:"text-xl font-medium mb-2",children:[x("DeleteModalH2")," ",a.jsx("span",{className:"text-red-500",children:m}),"?"]}),a.jsx("p",{children:x("DeleteModalPtag")})]}),a.jsxs(g.ModalFooter,{className:"justify-center",children:[a.jsx(g.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:t,children:x("modalKeepBtn")}),a.jsx("div",{className:"flex justify-end",children:A?a.jsxs(g.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[a.jsx("img",{src:I,alt:"Loading",width:20,height:10})," ",a.jsx("span",{className:"font-serif ml-2 font-light",children:x("Processing")})]}):a.jsx(g.Button,{onClick:C,className:"w-full h-12 sm:w-auto",children:x("modalDeletBtn")})})]})]})})},te=T.memo(_),se=({id:o,title:n,handleUpdate:u,handleModalOpen:f,isCheck:m,product:y,parent:p,children:t})=>{const{t:r}=F();return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex justify-end text-right",children:[(t==null?void 0:t.length)>0?a.jsxs(a.Fragment,{children:[a.jsx(R,{to:`/categories/${p==null?void 0:p._id}`,className:"p-2 cursor-pointer text-gray-400 hover:text-blue-600 focus:outline-none",children:a.jsx(w,{id:"view",Icon:H,title:r("View"),bgColor:"#10B981"})}),a.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>u(o),className:"p-2 cursor-pointer text-gray-400 hover:text-blue-600 focus:outline-none",children:a.jsx(w,{id:"edit",Icon:B,title:r("Edit"),bgColor:"#10B981"})})]}):a.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>u(o),className:"p-2 cursor-pointer text-gray-400 hover:text-blue-600 focus:outline-none",children:a.jsx(w,{id:"edit",Icon:B,title:r("Edit"),bgColor:"#10B981"})}),a.jsx("button",{disabled:(m==null?void 0:m.length)>0,onClick:()=>f(o,n,y),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600 focus:outline-none",children:a.jsx(w,{id:"delete",Icon:L,title:r("Delete"),bgColor:"#EF4444"})})]})})};export{te as D,se as E};
