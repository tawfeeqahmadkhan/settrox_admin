import{c as k,g as D,j as e,d as p,f as N,r as y,S as M}from"./index-CMwVzeIB.js";import{u as v,d as g,c as T,e as P,f as I,g as n}from"./Layout-BjD68e0c.js";import{i as q,a as S}from"./isToday-tsJAS3Ca.js";import{u as f}from"./useAsync-3D9_nwwI.js";import"./browser-G6HRTwGe.js";import"./httpService-y4n1pDxN.js";/* empty css                      */import{S as Y}from"./index-V2XaSKc-.js";import"./react-tooltip.min-DdxQKMRK.js";import"./index-DeDvdzBK.js";import{O as h}from"./OrderServices-N7mxR2h1.js";import{P as F}from"./PageTitle-CiYCa1gH.js";import{A as w}from"./AnimatedContent-BUFKB-yB.js";import"./iconBase-E_75oB0f.js";import"./useDispatch-DX3rZxrl.js";import"./index-DJ3uWcwx.js";var j={exports:{}};(function(l,t){(function(s,r){l.exports=r()})(k,function(){return function(s,r,u){r.prototype.isYesterday=function(){var d="YYYY-MM-DD",c=u().subtract(1,"day");return this.format(d)===c.format(d)}}})})(j);var E=j.exports;const A=D(E),o=({title:l,Icon:t,quantity:s,amount:r,className:u,loading:d,mode:c,pending:m,todayPending:b,olderPending:a})=>{const{getNumberTwo:x}=v();return e.jsx(e.Fragment,{children:d?e.jsx(Y,{count:2,height:40,className:"dark:bg-gray-800 bg-gray-200",baseColor:`${c==="dark"?"#010101":"#f9f9f9"}`,highlightColor:`${c==="dark"?"#1a1c23":"#f8f8f8"} `}):e.jsx(p.Card,{className:"flex h-full",children:e.jsxs(p.CardBody,{className:"flex items-center border border-gray-200 dark:border-gray-800 w-full rounded-lg",children:[e.jsx("div",{className:`flex items-center justify-center p-3 rounded-full h-12 w-12 text-center mr-4 text-lg ${u}`,children:e.jsx(t,{})}),e.jsxs("div",{children:[e.jsxs("h6",{className:"text-sm mb-1 font-medium text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:l})," ",r&&e.jsxs("span",{className:"text-red-500 text-sm font-semibold",children:["(",x(r),")"]})]}),m&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full mb-1 text-sm font-medium text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Today"})," ",e.jsxs("span",{className:"text-blue-600 text-sm font-semibold",children:["(",x(b),")"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Older"})," ",e.jsxs("span",{className:"text-orange-400 text-sm font-semibold",children:["(",x(a),")"]})]})]}),e.jsx("p",{className:"text-2xl font-bold leading-none text-gray-600 dark:text-gray-200",children:s})]})]})})})},_=()=>{var d,c;const{t:l}=N();y.useContext(p.WindmillContext),g.extend(q),g.extend(S),g.extend(A),y.useContext(M),y.useState([]);const{data:t,loading:s}=f(h.getDashboardCount),{data:r,loading:u}=f(h.getDashboardAmount);return y.useEffect(()=>{var m,b;(m=r==null?void 0:r.ordersData)==null||m.filter((a,x)=>{if(g(a.updatedAt).isToday()){if(a.paymentMethod==="Cash"){let i={paymentMethod:"Cash",total:a.total};todayPaymentMethodData.push(i)}if(a.paymentMethod==="Credit"){const i={paymentMethod:"Credit",total:a.total};todayPaymentMethodData.push(i)}if(a.paymentMethod==="Card"){const i={paymentMethod:"Card",total:a.total};todayPaymentMethodData.push(i)}}return a}),(b=r==null?void 0:r.ordersData)==null||b.filter((a,x)=>{if(g(a.updatedAt).set(-1,"day").isYesterday()){if(a.paymentMethod==="Cash"){let i={paymentMethod:"Cash",total:a.total};yesterDayPaymentMethodData.push(i)}if(a.paymentMethod==="Credit"){const i={paymentMethod:"Credit",total:a==null?void 0:a.total};yesterDayPaymentMethodData.push(i)}if(a.paymentMethod==="Card"){const i={paymentMethod:"Card",total:a==null?void 0:a.total};yesterDayPaymentMethodData.push(i)}}return a})},[r]),e.jsxs(e.Fragment,{children:[e.jsx(F,{children:l("DashboardOverview")}),e.jsx(w,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:[e.jsx(o,{title:"Total Order",Icon:T,loading:s,quantity:(t==null?void 0:t.totalOrder)||0,className:"text-orange-600 dark:text-orange-100 bg-orange-100 dark:bg-orange-500"}),e.jsx(o,{title:l("OrderPending"),Icon:P,loading:s,quantity:((d=t==null?void 0:t.totalPendingOrder)==null?void 0:d.count)||0,amount:((c=t==null?void 0:t.totalPendingOrder)==null?void 0:c.total)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("OrderProcessing"),Icon:I,loading:s,quantity:(t==null?void 0:t.totalProcessingOrder)||0,className:"text-teal-600 dark:text-teal-100 bg-teal-100 dark:bg-teal-500"}),e.jsx(o,{title:l("OrderDelivered"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("TotalProductSale"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("TodayProductOrder"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("ThisMonthSale"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("ThisYearProduct"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("TotalProducts"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("TotalCustomers"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("TotalCategories"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("TotalBrands"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("TotalSubcribers"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"}),e.jsx(o,{title:l("TotalSystemUser"),Icon:n,loading:s,quantity:(t==null?void 0:t.totalDeliveredOrder)||0,className:"text-blue-600 dark:text-blue-100 bg-blue-100 dark:bg-blue-500"})]})})]})};export{_ as default};
